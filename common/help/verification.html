<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>help:verification - [Workcraft]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="theme-color" content="#008800"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="help,verification"/>
<link rel="search" type="application/opensearchdescription+xml" href="lib/exe/opensearch.html" title="Workcraft"/>
<link rel="start" href="verification.html"/>
<link rel="contents" href="verification.html" title="Sitemap"/>
<link rel="manifest" href="lib/exe/manifest.html"/>
<link rel="alternate" type="application/rss+xml" title="Changes" />
<link rel="alternate" type="application/rss+xml" title="Current namespace" />
<link rel="edit" title="Edit this page" href="verification.html"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="_export/xhtml/help/verification.xhtml"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="_export/raw/help/verification.raw"/>
<link rel="canonical" href="http://workcraft.org/help/verification"/>
<link rel="stylesheet" href="lib/exe/css.php.t.dokuwiki-light-export.css"/>
<!--[if gte IE 9]><!-->
<script >/*<![CDATA[*/var NS='help';var SIG=" --- \/\/[[support@workcraft.org| ]] 2025\/01\/06 11:52\/\/";var JSINFO = {"fastwiki":{"secedit":1,"preview":1,"fastpages":1,"save":0,"fastshow":0,"fastshow_same_ns":1,"fastshow_include":"","fastshow_exclude":"","preload":0,"preload_head":"====47hsjwycv782nwncv8b920m8bv72jmdm3929bno3b3====","preload_batchsize":10,"preload_per_page":100,"locktime":840,"usedraft":1,"text_btn_show":"Show page","templatename":"dokuwiki-light-export"},"plugin_folded":{"hide":"hide","reveal":"reveal"},"move_renameokay":true,"move_allowrename":true,"plugins":{"vshare":{"youtube":"youtube\\.com\/.*[&?]v=([a-z0-9_\\-]+)","vimeo":"vimeo\\.com\\\/(\\d+)","slideshare":"slideshare.*id=(\\d+)","dailymotion":"dailymotion\\.com\/video\/([a-z0-9]+)","archiveorg":"archive\\.org\/(?:embed|details)\/([a-zA-Z0-9_\\-]+)","soundcloud":"soundcloud\\.com\/([\\w-]+\/[\\w-]+)","niconico":"nicovideo\\.jp\/watch\/(sm[0-9]+)","bitchute":"bitchute\\.com\\\/video\\\/([a-zA-Z0-9_\\-]+)","coub":"coub\\.com\\\/view\\\/([a-zA-Z0-9_\\-]+)","odysee":"odysee\\.com\/\\$\/(?:embed|download)\/([-%_?=\/a-zA-Z0-9]+)","youku":"v\\.youku\\.com\/v_show\/id_([0-9A-Za-z=]+)\\.html","bilibili":"bilibili\\.com\\\/video\\\/(BV[0-9A-Za-z]+)","msoffice":"(?:office\\.com.*[&?]videoid=([a-z0-9\\-]+))","msstream":"microsoftstream\\.com\\\/video\\\/([a-f0-9\\-]{36})"}},"id":"help:verification","namespace":"help","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script src="lib/exe/jquery.php.t.dokuwiki-light-export.js" defer="defer">/*<![CDATA[*/
/*!]]>*/</script>
<script src="lib/exe/js.php.t.dokuwiki-light-export.js" defer="defer">/*<![CDATA[*/
/*!]]>*/</script>
<!--<![endif]-->
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="favicon.ico" />
<link rel="apple-touch-icon" href="apple-touch-icon.png" />
    </head>

<body>
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_dokuwiki-light-export loggedIn    ">

        
<!-- ********** HEADER ********** -->
<header id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <h1 class="logo"><a href="start.html"  accesskey="" title=""><img src="logo.png" width="381" height="64" alt="" /></a></h1>
            </div>

    <hr class="a11y" />
</div></header><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <main id="dokuwiki__content"><div class="pad group">
                
                <div class="pageId"><span>help:verification</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <div class="plugin_fastwiki_marker" style="display:none"></div>
<h1 id="verification_properties">Verification properties</h1>
<div class="level1">

</div>

<h2 id="stg_properties">STG properties</h2>
<div class="level2">

<p>
Most STGs should satisfy the following properties (can be checked via <em>Verification</em> menu):
</p>
<ul>
<li class="level1"><div class="li"> <strong>Consistency</strong> –  for all signals <code>z</code>, <code>z+</code> and <code>z-</code> must alternate in each possible trace, always starting with the same sign. This is necessary for the encodings of the reachable states to be binary.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> <strong>Deadlock freeness</strong> – each reachable marking enables at least one transition.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> <strong>Input properness</strong> – an input must not be triggered by an internal signal (as the environment must be oblivious to internal signals) and must not be disabled by a local (i.e. output or internal) signal; it is ok (and in fact common) for an input to be disabled by another input. This property can currently be verified only for STGs without dummy transitions.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> <strong>Mutex place implementability</strong> – surrounding signals of an <em>arbitrating choice</em> place that is tagged as a <em>mutex</em> must follow the MUTEX protocol. (In this case the place can be implemented by a MUTEX that can correctly handle the metastable behaviour associated with arbitration.) Essentially, Worckcraft looks at the transitions around a mutex place, and tries to work out which signals are the grants and which signals are the requests. Then it tries to verify whether the grants can be correctly implemented by a mutex taking the requests (and no other signals!) as inputs. E.g. suppose the tool speculates that the requests are r1 and r2 and the grants are g1 and g2. Then it formally verifies the following properties, where ⇒ is logic implication and <code>nxt</code> is the next-state function of a signal, i.e. <code>nxt(g1) = g1 xor enabled(g1)</code>:</div>
</li>
</ul>
<pre class="code">// if r1 is high and g2 is low than g1 is either
// already high or enabled to become high
r1&amp;~g2 ⇒ nxt(g1)

// if r1 is low then g1 is either low or enabled to become low
~r1 ⇒ ~nxt(g1)

// if r2 and g2 are high then g1 is either low or 
// enabled to become low - note that this allows
// for both early-release and late-release protocols
r2&amp;g2 ⇒ ~nxt(g1)

// the symmetric properties for nxt(g2):
r2&amp;~g1 ⇒ nxt(g2)
~r2 ⇒ ~nxt(g2)
r1&amp;g1 ⇒ ~nxt(g2)

// the mutual exclusion of the critical sections
~( (r1&amp;g1) &amp; (r2&amp;g2) )</pre>
<ul>
<li class="level1"><div class="li"> <strong>Output persistency</strong> – a local (i.e. output or internal) signal must not be disabled by any other signal (such disabling would cause a hazard on the output of the gate producing this local signal). This property can currently be verified only for STGs without dummy transitions. The notable exceptions are MUTEX and WAIT – they violate output persistency. It is possible to model them by “factoring out” them into the environment, turning these violations into input/input conflicts which are ok; however, the preferred way in Workcraft is to use Mutex places, see the <strong>Mutex place implementability</strong> property.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> <strong>Output determinacy</strong> – The <abbr title="Signal Transition Graph">STG</abbr> is not self-contradictory. This property trivially holds for deterministic STGs (i.e. ones without dummies and without choices between transitions labelled by the same signal). However, for non-deterministic STGs it is possible to execute the same trace (sequence of signal edges) <code>w</code> in two different ways, reaching two different markings. If one of these markings enables some output <code><span style='color:blue; '>o</span></code> and the other does not,  there is a contradiction: The <abbr title="Signal Transition Graph">STG</abbr> simultaneously requires the circuit to produce <code><span style='color:blue; '>o</span></code> after <code>w</code>, and forbids to do so.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> <strong>Delay insensitive interface</strong> – If in some reachable marking the <abbr title="Signal Transition Graph">STG</abbr> can fire one input transition after another, then it should be possible to fire these inputs in the reverse order as well, i.e. these inputs should be concurrent. Intuitively, such inputs can be reordered without breaking the circuit.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> <strong>Normalcy</strong> – This property ensures that it is possible to implement each local signal by a gate without input ‘bubbles’, i.e. by a (perhaps negated) monotonic Boolean function. This condition in particular implies CSC. <span class="wrap_tip ">This property is mostly of theoretical interest, it is often violated in practice.</span></div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> <strong>Redundancy of selected places</strong> – Check if the selected places can be removed without changing the behaviour of the <abbr title="Signal Transition Graph">STG</abbr>.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> <strong>N-way conformation</strong> – If several STGs sharing signals represent a decomposition of a system into components, this property ensures that no component can produce an output that another component (that has it as an input) does not expect. In other words, if there is a reachable state in the overall system where some component can fire a transition labelled by some output <code><span style='color:blue; '>o</span></code>, but some other component that has this signal as an input <code><span style='color:red; '>o</span></code> does not enable any transition labelled by <code><span style='color:red; '>o</span></code> then this property is violated.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> <strong>Handshake wizard</strong> helps to formulate and verify the properties of handshake protocol, as explained in <a href="../tutorial/method/handshake_verification/start.html" class="wikilink1" title="tutorial:method:handshake_verification:start" data-wiki-id="tutorial:method:handshake_verification:start">Handshakes Verification</a> tutorial.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> <strong>Custom properties</strong> – The user can specify custom properties using <a href="reach.html" class="wikilink1" title="help:reach" data-wiki-id="help:reach">REACH language</a>. For example, a custom property that PMOS and NMOS are never ON at the same time is specified and verified in <a href="../tutorial/design/basic_buck/start.html#formal_verification" class="wikilink1" title="tutorial:design:basic_buck:start" data-wiki-id="tutorial:design:basic_buck:start">buck tutorial</a>.</div>
</li>
</ul>

</div>

<h2 id="circuit_properties">Circuit properties</h2>
<div class="level2">

<p>
Most speed-independent circuits should satisfy the following properties (can be checked via <em>Verification</em> menu):
</p>
<ul>
<li class="level1"><div class="li"> <strong>Conformation</strong> – the circuit will never break the environment by sending an output that the environment does not expect. In other words, if a circuit produces an output, say <code>z+</code>, a transition labelled by <code>z+</code> must be enabled in the environment <abbr title="Signal Transition Graph">STG</abbr>.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> <strong>Deadlock freeness</strong> – in every reachable state the circuit or the environment (or both) can fire some transition.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> <strong>Output persistency</strong> – an excited gate in the circuit cannot be disabled.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> <strong>Binate consensus</strong> – a gate implementing a <a href="https://en.wikipedia.org/wiki/Unate_function" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Unate_function">binate Boolean function</a>, i.e. a function depending on some variable <code>x</code> such that both <code>x</code> and <code>~x</code> occur in its sum-of-products representation, does not glitch when <code>x</code> changes its value. More detail is provided <a href="https://github.com/workcraft/workcraft/issues/751" class="urlextern" title="https://github.com/workcraft/workcraft/issues/751" rel="ugc nofollow">here</a>.</div>
</li>
</ul>

<p>
Note that circuits must be verified with the <abbr title="Signal Transition Graph">STG</abbr> modelling the environment, and during verification it is assumed that the environment fulfils its contract specified by this <abbr title="Signal Transition Graph">STG</abbr>.
</p>

<p>
Again, non-persistency in MUTEX and WAIT have to be handled specially – in Workcraft there is a gate property allowing to treat a gate as a part of the environment.
</p>
<div class="wrap_center wrap_round wrap_important plugin_wrap" style="width: 90%;">
<p>
These properties are rather weak – e.g. a circuit accepting all inputs and not producing any outputs conforms to any specification with the same signals! They do not constitute transcendental “correctness” – there is no such thing. So set your expectations accordingly – a circuit that passes all these verification checks can still be very wrong.
</p>
</div>
</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo">
                    Copyright &copy; 2014-2024 workcraft.org                </div>

                
                <hr class="a11y" />
            </div></main><!-- /content -->

        </div><!-- /wrapper -->

            </div></div><!-- /site -->

    <div class="no"><img src="lib/exe/taskrunner.a2c23de2e5a76d7b02f8012c91acd9c9.gif" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div></body>
</html>
